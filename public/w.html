<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Whiteboard</title>
    <link rel="stylesheet" href="css/board.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/emoji.min.css" >
<link rel="stylesheet" href="css/modals.css">
</head>

<body>
<div class="dm-overlay">
    <div class="dm-table">
        <div class="dm-cell">
            <div class="dm-modal">
                <a class="close"></a>
                <div>
                    <label >Введите имя (не обязательно):</label>
                    <div>
                        <input id="name" />
                        <button class="btn-default btn-blue" id="ready">готово</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<canvas id="canvas"></canvas>
<div class="toolbar__box--middle-left">
    <div id="main-toolbar" class="toolbar toolbar--vertical">
        <ul class="tools__menu">
            <li  class="tools__item  boardBtn">
                <div class="tools__item--button dropRight"><img src="assets/pencilup.png"></div>
                <div class="toolbox fadeInLeft">
                    <ul class="tools__menu">
                        <li id="pencil" class="tools__item  tool tip">
                            <div class="tools__item--button"><img src="assets/pen.png"><div class="tooltiptext">Pen</div></div>

                        </li>
                        <li id="marker" class="tools__item  tool tip">
                            <div  class="tools__item--button"><img src="assets/marker.png"><div class="tooltiptext">Marker</div></div>
                        </li>
                        <li id="line" class="tools__item  tool tip">
                            <div  class="tools__item--button"><img src="assets/line.png"><div class="tooltiptext">Line</div></div>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="tools__item  boardBtn">
                <div class="tools__item--button dropRight"><img src="assets/color.png">
                    <div class="picked__color" style="background-color: rgb(0, 0, 0);"></div>
                </div>
                <div class="toolbox fadeInLeft">
                    <ul class="tools__menu">
                        <li id="color-0" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #000000;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-1" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #f7412d;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-2" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #47b04b;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-3" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #1194f6;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-4" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #ffc200;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-5" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #9d1bb2;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-6" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #ec1561;" class="predefined__color"></div>
                            </div>
                        </li>
                        <li id="color-7" class="tools__item">
                            <div class="tools__item--button">
                                <div style="background-color: #7a5547;" class="predefined__color"></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </li>
            <li   class="tools__item boardBtn tip">
                <div class="tools__item--button dropRight"><img src="assets/size.jpg"><div class="tooltiptext">Size</div></div>
                <div class="toolbox fadeInLeft" style="margin-top: 15px;">
                    <div class="slidecontainer">
                        <input type="range" min="1" max="5" value="1" class="slider" id="size">
                    </div>
                </div>
            </li>
            <li id="text" class="tools__item tool boardBtn tip">
                <div class="tools__item--button"><img src="assets/alp.png"><div class="tooltiptext">Text</div></div>
            </li>
            <li id="eraser" class="tools__item tool boardBtn tip">
                <div class="tools__item--button"><img src="assets/eraser.png"><div class="tooltiptext">Eraser</div></div>
            </li>

            <li  class="tools__item  boardBtn">
                <div class="tools__item--button dropRight"><img src="assets/rectangle.png"></div>
                <div class="toolbox fadeInLeft">
                    <ul class="tools__menu">
                        <li id="rectangle" class="tools__item  tool tip">
                            <div class="tools__item--button"><img src="assets/rect.png"><div class="tooltiptext">Rect</div></div>
                        </li>
                        <li id="circle" class="tools__item  tool tip">
                            <div  class="tools__item--button"><img src="assets/circle.png"><div class="tooltiptext">Circle</div></div>
                        </li>
                        <li id="ellipse" class="tools__item  tool tip">
                            <div  class="tools__item--button"><img src="assets/el.png"><div class="tooltiptext">Ellipse</div></div>
                        </li>
                        <li id="arrow" class="tools__item  tool tip">
                            <div  class="tools__item--button"><img src="assets/cist.png"><div class="tooltiptext">Arrow</div></div>
                        </li>
                    </ul>
                </div>
            </li>
            <li   class="tools__item boardBtn">
                <div class="tools__item--button dropRight"><img src="assets/load.png"></div>
                <div class="toolbox fadeInLeft">
                    <ul class="tools__menu tools__menu--inline">
                        <li id="loadImage" class="tools__item  tool tip">
                            <div class="tools__item--button"><img src="assets/upload.png"><input id="ImageLoad" accept=".jpg, .jpeg, .png" type="file"/><div class="tooltiptext">Upload</div></div>
                        </li>
                        <li id="saveImage" class="tools__item  tool tip">
                            <a  id="ImgSave" class="tools__item--button" ><img src="assets/download.png"><div class="tooltiptext">Download</div></a>
                        </li>
                    </ul>
                </div>
            </li>
            <li  id="drag" class="tools__item boardBtn tip">
                <div class="tools__item--button"><img src="assets/hand.png"><div class="tooltiptext">Move</div></div>
            </li>
        </ul>
    </div>
</div>

<div id="LoadedImage" style="display:none">
    <div  class="drop">
        <div id="rotation" style="transform:rotate(0deg)">
            <div class="drop__elements">
                <div class="rotator"><img id="imgRot" src="assets/rotate.svg" draggable=false /></div>
                <div class="grip grip--tl"></div>
                <div class="grip grip--tc"></div>
                <div class="grip grip--tr"></div>
                <div class="grip grip--ml"></div>
                <div class="grip grip--mr"></div>
                <div class="grip grip--bl"></div>
                <div class="grip grip--bc"></div>
                <div class="grip grip--br"></div>

            </div>

            <img id="preloadImg" draggable=false />
            <div class="drop__buttons"><a id="CancelCanvas"><img class="yesno" src="assets/x.svg"></a><a href="#" id="ImgLoadCanvas"><img class="yesno" src="assets/y.svg"></a></div>
        </div>
    </div>
</div>

<div class="floating-chat enter">
    <img id="chat_img" src="assets/chat.png" height=35 width=35 />
    <div class="chat">
        <div class="header">
            <span class="title">
                Чат
            </span>
            <button id="closeChat">
                <img src="assets/x.svg" width=10 height=10 />
            </button>

        </div>
        <ul class="messages">
        </ul>
        <table class="tooltip" style="visibility:hidden">
            <tr>
                <td><a class="ec ec-sob"></a></td>
                <td><a class="ec ec-sleeping"></a></td>
                <td><a class="ec ec-smiling-imp"></a></td>
                <td><a class="ec ec-zipper-mouth-face"></a></td>
            </tr>
            <tr>
                <td><a class='ec ec-sparkling-heart'></a></td>
                <td><a class="ec ec-yum"></a></td>
                <td><a class="ec ec-blush"></a></td>
                <td><a class="ec ec-confounded"></a></td>
            </tr>
        </table>
        <div class="footer">

            <div class="text-box" disabled="true" contenteditable="true"></div>
            <button class="smiley">

            </button>
            <div class="file_upload">
                <button class="attach" type="button"></button>
                <input id="files" type="file">
            </div>
            <button id="sendMessage" class="send" ></button>

        </div>
    </div>
</div>
<div id="textControl" style="visibility: hidden;z-index:999">
    <input id="txtFontSize" class="boardBtn" value="16" max="72" min="10" type="number">
</div>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="js/whiteboard.js"></script>
<script type="text/javascript" src="js/realtime.js"></script>
<script type="text/javascript" src="js/chat.js"></script>
<script>
    rtSocket.createSocket()
    rtSocket.broadcastMessage()
    rtSocket.broadcastFile()
    document.getElementById("canvas").width=document.body.clientWidth
    document.getElementById("canvas").height=document.body.clientHeight
</script>
</body></html>